# Сайт-визитка: галерея фото → видео

Простой статический сайт: сетка из фотографий (плитки). Клик по фото открывает модальное окно с видео. Фото и видео хранятся в отдельных папках.

## Структура

- `index.html` — главная страница с приветствием и галереей
- `assets/css/styles.css` — стили, адаптивная сетка и модалка
- `assets/js/main.js` — логика открытия/закрытия модального окна, подстановка видео
- `assets/photos/` — сюда складывайте изображения для плиток
- `assets/videos/` — сюда складывайте видеофайлы (`.mp4`, `.webm` и т.п.)

В комплекте есть два примера плиток с заглушками изображений:

- `assets/photos/sample1.svg`
- `assets/photos/sample2.svg`

И пустая папка `assets/videos/` (файл `.gitkeep` просто сохраняет папку в репозитории).

## Как добавить свои фото и видео

1. Положите файл изображения в `assets/photos/` (например, `my_photo.jpg`).
2. Положите файл видео в `assets/videos/` (например, `my_video.mp4`). Рекомендуется `mp4` (H.264 + AAC) для широкой совместимости.
3. В файле `index.html` скопируйте существующий блок плитки и поменяйте пути:

```html
<button class="tile" data-video="assets/videos/my_video.mp4">
  <img src="assets/photos/my_photo.jpg" alt="Название видео" loading="lazy" />
</button>
```

Атрибут `alt` попадёт в подпись под видео.

## Запуск

Откройте `index.html` двойным кликом или запустите через любой статический сервер. Для более корректной работы медиа рекомендуется открыть через локальный сервер.

Примеры команд (один из вариантов):

- Python 3: `python -m http.server 8000`
- Node.js (если установлен `serve`): `npx serve .`

После запуска откройте `http://localhost:8000`.

## Автогенерация плиток по видео

Чтобы количество плиток соответствовало количеству файлов в `assets/videos`, сгенерируйте манифест и обновите страницу:

1. Установите Node.js (если ещё не установлен).
2. Запустите скрипт:

```
node scripts/build-manifest.mjs
```

Скрипт создаст `assets/videos/manifest.json` со списком видео и, если найдёт, — с подходящими обложками из `assets/photos` (по совпадению имени файла без расширения). Страница автоматически подхватит манифест и отрисует плитки.

Поддерживаемые расширения:
- Видео: `.mp4`, `.webm`, `.ogv`, `.mov`, `.m4v`
- Фото: `.jpg`, `.jpeg`, `.png`, `.webp`, `.avif`, `.svg`

## Превью из середины видео (thumbnails)

Хотите автоматические обложки для каждой записи — кадр из середины ролика? Используйте ffmpeg.

1) Установите ffmpeg (включая ffprobe) и добавьте в PATH.
2) Сгенерируйте превью для всех видео:

```
node scripts/generate-thumbnails.mjs
```

Скрипт создаст изображения в `assets/photos/<имя_видео>.jpg` (кадр примерно из середины). Если обложка уже существует, она будет пропущена.

3) Пересоберите манифест, чтобы галерея подхватила обложки:

```
node scripts/build-manifest.mjs
```

Затем обновите страницу. Если сайт на GitHub Pages — закоммитьте новые файлы и запушьте.

## Фоновая музыка

- Положите файл музыки в `assets/audio` с именем `music.mp3`.
- На странице в шапке есть кнопка «Музыка»: нажмите, чтобы запустить/поставить на паузу. Музыка ставится на паузу, когда открывается видео, и возобновляется после закрытия.
- Если файла нет, кнопка автоматически скрывается.

## Настройки/советы

- Чтобы запретить автозапуск — ничего не меняйте: плеер не автопроигрывает, пользователь запускает сам.
- Большие видео перекодируйте для веба: целевой битрейт 3–6 Мбит/с, размер до 1080p.
- Поддерживаются `mp4`, `webm`; можно добавить несколько `<source>` внутри `index.html`, но проще хранить один универсальный `mp4`.
# Сайт-визитка: галерея фото → видео
## Подпись на превью (вторая строка)

У каждой плитки можно вывести дополнительную строку текста — подпись, которая настраивается отдельно для каждого видео.

- Через HTML: добавьте атрибут `data-subtitle` на кнопку плитки.

```html
<button class="tile" data-video="assets/videos/my_video.mp4" data-subtitle="Подпись на второй строке">
  <img src="assets/photos/my_photo.jpg" alt="Название видео" loading="lazy" />
</button>
```

- Через манифест: добавьте поле `subtitle` для элемента в `assets/videos/manifest.json`.

```json
[
  {
    "title": "Видео 1",
    "subtitle": "Тёплые воспоминания",
    "video": "assets/videos/video1.mp4",
    "poster": "assets/photos/video1.jpg"
  }
]
```

Если `subtitle` не указан — на плитке показывается только первая строка (название).
